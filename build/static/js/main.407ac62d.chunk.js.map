{"version":3,"sources":["components/Chat/Chat.js","components/Join/Join.js","icons/onlineIcon.png","components/TextContainer/TextContainer.js","components/InfoBar/InfoBar.js","icons/closeIcon.png","components/Input/Input.js","components/Message/Message.js","components/Messages/Messages.js","App.js","index.js"],"names":["socket","Join","useState","name","setName","room","setRoom","className","placeholder","type","onChange","event","target","value","onClick","preventDefault","to","TextContainer","users","role","aria-label","map","alt","src","onlineIcon","InfoBar","href","Input","message","setMessage","sendMessage","onKeyPress","key","Message","user","text","isSentByCurrentUser","trimmedName","trim","toLowerCase","ReactEmoji","emojify","Messages","messages","i","Chat","location","setUsers","setMessages","ENDPOINT","useEffect","queryString","parse","search","io","connect","emit","off","on","console","log","App","path","exact","component","ReactDOM","render","document","querySelector"],"mappings":"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","file":"static/js/main.407ac62d.chunk.js","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport queryString from 'query-string';\nimport io from 'socket.io-client';\n\nimport './Chat.css';\nimport TextContainer from '../TextContainer/TextContainer';\nimport InfoBar from '../InfoBar/InfoBar'\nimport Input from '../Input/Input'\nimport Messages from '../Messages/Messages'\n\nlet socket;\n\n\n\nconst Chat =({ location }) => {\n    const [name, setName] = useState('');\n    const [room, setRoom] = useState('');\n    const [users, setUsers] = useState('');\n    const [message, setMessage] = useState('');\n    const [messages, setMessages] = useState([]);\n    const ENDPOINT = 'https://aditya-react-chat-app.herokuapp.com/';\n    useEffect(() => {\n        const {name, room} = queryString.parse(location.search);\n\n        var connectionOptions =  {\n            \"force new connection\" : true,\n            \"reconnectionAttempts\": \"Infinity\", \n            \"timeout\" : 10000,                  \n            \"transports\" : [\"websocket\"]\n        };\n\n        socket = io.connect(ENDPOINT,connectionOptions);\n\n        // socket= io(ENDPOINT);\n\n        setName(name);\n        setRoom(room);\n\n        socket.emit('join', { name, room }, () =>{\n            \n        });\n\n        return () => {\n            socket.emit('disconnect');\n\n            socket.off();\n        }\n    }, [ENDPOINT, location.search]);\n\n    useEffect(() => {\n        socket.on('message', (message) =>{\n            setMessages([...messages, message]);\n        })\n\n        socket.on(\"roomData\", ({ users }) => {\n            setUsers(users);\n          });\n\n          return () => {\n            socket.off()\n          }\n\n    }, [messages]);\n\n    const sendMessage = (event) => {\n\n        event.preventDefault();\n\n        if(message){\n            socket.emit('sendMessage', message, () => setMessage(''));\n        }\n    }\n\n    console.log(message, messages);\n\n\n    return(\n        <div className=\"outerContainer\">\n            <div className=\"container\">\n                <InfoBar room={room}/>\n                <Messages messages={messages} name={name}/>\n                <Input message={message} setMessage={setMessage} sendMessage={sendMessage}/>\n            </div>\n            <TextContainer users={users}/>\n        </div>\n    )\n}\n\nexport default Chat;","import React, { useState } from 'react';\nimport { Link } from 'react-router-dom';\n\nimport './Join.css';\n\nconst Join =() => {\n\n    const [name, setName] = useState('');\n    const [room, setRoom] = useState('');\n\n\n    return(\n        <div className='joinOuterContainer'>\n            <div className='joinInnerContainer'>\n                <h1 className='heading'>Join</h1>\n            <div><input placeholder=\"Name\" className='joinInput' type=\"text\" onChange={(event) => setName(event.target.value)} /></div>\n            <div><input placeholder=\"Room\" className='joinInput mt-20' type=\"text\" onChange={(event) => setRoom(event.target.value)} /></div>\n            <Link onClick={event => (!name || !room) ? event.preventDefault() : null} to={`/chat?name=${name}&room=${room}`}>\n                <button className=\"button mt-20\" type=\"submit\">Sign In</button>\n            </Link>\n\n            </div>\n\n        </div>\n    )\n}\n\nexport default Join;","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAYAAAAGCAYAAADgzO9IAAAAAXNSR0IArs4c6QAAAExJREFUCB1jbPh/le3lx5tNDIwMcQwg8J9hkTi/eh0LWJCBoRwoAAPlQDEGJrhKmDCIBupmQuYjs5lAZiILgNlAMRaQRSAz4UZCLQcAIwYaiAejKoYAAAAASUVORK5CYII=\"","import React from 'react';\n\nimport onlineIcon from '../../icons/onlineIcon.png';\n\nimport './TextContainer.css';\n\nconst TextContainer = ({ users }) => (\n  <div className=\"textContainer\">\n    <div>\n      <h1>Realtime Chat Application <span role=\"img\" aria-label=\"emoji\">üí¨</span></h1>\n      <h2>Created with React, Express, Node and Socket.IO <span role=\"img\" aria-label=\"emoji\">‚ù§Ô∏è</span></h2>\n      <h2>Try it out right now! <span role=\"img\" aria-label=\"emoji\">‚¨ÖÔ∏è</span></h2>\n    </div>\n    {\n      users\n        ? (\n          <div>\n            <h1>People currently chatting:</h1>\n            <div className=\"activeContainer\">\n              <h2>\n                {users.map(({name}) => (\n                  <div key={name} className=\"activeItem\">\n                    {name}\n                    <img alt=\"Online Icon\" src={onlineIcon}/>\n                  </div>\n                ))}\n              </h2>\n            </div>\n          </div>\n        )\n        : null\n    }\n  </div>\n);\n\nexport default TextContainer;","import React from 'react';\n\nimport closeIcon from '../../icons/closeIcon.png';\nimport onlineIcon from '../../icons/onlineIcon.png';\n\nimport './InfoBar.css';\n\nconst InfoBar = ({room}) => (\n    <div className='infoBar'>\n        <div className=\"leftInnerContainer\">\n            <img className=\"onlineIcon\" src={onlineIcon} alt=\"online\"/>\n            <h3>{room}</h3>\n        </div>\n        <div className=\"rightInnerContainer\">\n            <a href=\"/\"><img src={closeIcon} alt=\"close\"/></a>\n        </div>\n    </div>\n)\n\nexport default InfoBar;","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAAXNSR0IArs4c6QAAAHBJREFUGBmNkAEKwCAMA2VfGP2mrx3sOV2us6IymIXQGlNTW9zdhCqcZQm4dmelFUp+CZZa6sYpeUVIFyIixMqjCO51Wy5unQExuYSbSF5JASLqPsqRM21lOoWc89tagr3PSMgOiWlwnUeXWA/E78IfuAX270S3ydAAAAAASUVORK5CYII=\"","import React from 'react';\n\nimport './Input.css';\n\nconst Input = ({message, setMessage, sendMessage}) => (\n    <form className=\"form\">\n        <input \n            className=\"input\"\n            type=\"text\"\n            placeholder=\"Type a message...\"\n            value={message}\n            onChange={(event) => setMessage(event.target.value)}\n            onKeyPress={event => event.key === 'Enter' ? sendMessage(event) : null}\n        />\n        <button className=\"sendButton\" onClick={(event) => sendMessage(event)}>Send</button>\n    </form>\n)\n\nexport default Input;","import React from 'react';\n\nimport './Message.css';\n\nimport ReactEmoji from 'react-emoji';\n\nconst Message = ({ message: { user, text }, name }) => {\n    let isSentByCurrentUser = false;\n\n    const trimmedName = name.trim().toLowerCase();\n\n    if (user === trimmedName){\n        isSentByCurrentUser = true;\n    }\n\n    return(\n        isSentByCurrentUser\n            ?(\n                <div className='messageContainer justifyEnd'>\n                    <p className=\"sentText pr-10\">{trimmedName}</p>\n                    <div className='messageBox backgroundBlue'>\n                        <p className=\"messageText colorWhite\">{ReactEmoji.emojify(text)}</p>\n                    </div>\n                </div>\n            )\n            :(\n                <div className='messageContainer justifyStart'>\n                    \n                    <div className='messageBox backgroundLight'>\n                        <p className=\"messageText colorDark\">{ReactEmoji.emojify(text)}</p>\n                    </div>\n                    <p className=\"sentText pl-10\">{user}</p>\n                </div>\n            )\n    )\n}\n\nexport default Message;","import React from 'react';\n\nimport ScrollToBottom from 'react-scroll-to-bottom';\n\nimport Message from '../Message/Message'\n\nimport './Messages.css';\n\nconst Messages = ({ messages, name }) => (\n    <ScrollToBottom className=\"messages\">\n        {messages.map((message,i) => <div key={i}><Message message={message} name={name}/></div>)}\n    </ScrollToBottom>\n\n)\n\nexport default Messages;","import React from 'react';\n\nimport { BrowserRouter as Router, Route } from 'react-router-dom';\n\nimport Join from './components/Join/Join';\nimport Chat from './components/Chat/Chat';\n\nconst App = () => ( <\n    Router >\n        <Route path = '/' exact component = { Join }/> \n        <Route path = '/chat' component = { Chat }/> \n    </Router>\n);\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport App from './App'\n\nReactDOM.render( < App / > , document.querySelector('#root'));"],"sourceRoot":""}